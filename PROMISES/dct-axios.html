<!DOCTYPE html>
<html>
    <head>
        <title>own version of axios</title>
    </head>
    <body>
        <div id='root'>

        </div>
        
        <script>
       const url='https://jsonplaceholder.typicode.com/users'
       //producing code
       const dctAxios={
        get:function(url){
            const promiseObj=new Promise((resolve,reject)=>{
                const xhr=new XMLHttpRequest()
                xhr.open('GET',url)
                xhr.send()
                xhr.onload=function(){
                    const data=JSON.parse(xhr.responseText)
                    resolve(data)
                }
               xhr.onerror=function(){
                   reject(new Error('something went wrong'))
               }
            })
            return promiseObj
        }
       }
       //consuming code
       dctAxios.get(url)
        .then((response)=>{
            console.log(response)
        })
        .catch((err)=>{
            console.log(err.message)
        })
        </script>
    </body>
</html>